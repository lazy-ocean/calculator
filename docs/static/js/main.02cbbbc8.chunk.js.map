{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["operations","buttons","value","role","long","Button","prop","btn","onClick","classList","classNames","button","className","App","useState","setValue","formula","setFormula","error","setError","state","setState","fadeOutIn","setFadeOutIn","handleKeyDown","event","preventDefault","key","handleChange","test","parseInt","includes","useEffect","document","addEventListener","removeEventListener","handleValue","v","fr","toString","split","length","format","arr","num","Number","join","substr","evaluate","temp","slice","isNaN","f","percentage","setTimeout","e","fadeOutUp","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.02cbbbc8.chunk.js","sourcesContent":["import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { evaluate, format } from \"mathjs\";\nimport classNames from \"classnames\";\n\nfunction App() {\n  let [value, setValue] = useState(0);\n  let [formula, setFormula] = useState(\"\");\n  let [error, setError] = useState(false);\n  let [state, setState] = useState(\"number\");\n  let [fadeOutIn, setFadeOutIn] = useState(false);\n\n  let handleKeyDown = (event) => {\n    event.preventDefault();\n    let { key } = event;\n\n    if (key === \"Enter\") handleChange(key, \"res\");\n\n    if (/\\d/.test(key)) {\n      event.preventDefault();\n      handleChange(parseInt(key, 10), \"number\");\n    } else if (operations.includes(key)) {\n      event.preventDefault();\n      handleChange(key, \"operation\");\n    } else if (key === \".\") {\n      event.preventDefault();\n      handleChange(key, \"punctuation\");\n    } else if (key === \"%\") {\n      event.preventDefault();\n      handleChange(key, \"special\");\n    } else if (key === \"Backspace\") {\n      event.preventDefault();\n      handleChange(key, \"erase\");\n    } else if (key === \"Clear\") {\n      event.preventDefault();\n      handleChange(key, \"abort\");\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleValue = (v) => {\n    let fr = v.toString().split(\".\");\n    let value = v;\n    if (fr[1] && fr[1].length > 6) {\n      value = format(value, 6);\n      let arr = formula.split(\" \");\n      let num = Number(arr[arr.length - 1]);\n      arr[arr.length - 1] = format(num, 6);\n      setFormula(arr.join(\" \"));\n    }\n    if (value > 10000000) {\n      setError(\"This number is too big for a handy calculator :(\");\n      value = value.toString().substr(0, 8);\n    }\n    setValue(value);\n  };\n\n  const handleChange = (v, role) => {\n    setFadeOutIn(false);\n    switch (role) {\n      case \"number\":\n        if (error) setError(false);\n        if (value > 10000000) {\n          setError(\"This number is too big for a handy calculator :(\");\n        } else {\n          formula !== \"0\" ? setFormula((formula += v)) : setFormula(v);\n          handleValue(evaluate(formula));\n        }\n        setState(role);\n        break;\n      case \"operation\":\n        if (error) setError(false);\n        if (state === \"operation\") {\n          let temp = formula.slice(0, -2);\n          setFormula((temp += ` ${v} `));\n        } else {\n          setFormula((formula += ` ${v} `));\n        }\n        setState(role);\n        break;\n      case \"punctuation\":\n        if (state !== \"number\") return;\n        let arr = formula.split(\" \");\n        if (isNaN(`${arr[arr.length - 1]}${v}`)) {\n          setError(\"This is not a number\");\n        } else {\n          setFormula((formula += v));\n          handleValue(evaluate(formula));\n        }\n        setState(role);\n        break;\n      case \"special\":\n        if (v === \"%\") {\n          let f = formula.split(\" \");\n          if (f.length < 2) {\n            let temp = format(evaluate(`0.01 * ${value}`), 6);\n            handleValue(temp);\n            setFormula(temp);\n          } else {\n            let percentage = (~~f[0] / 100) * f[2];\n            let temp = evaluate(`${f[0]}${f[1]}${percentage}`);\n            handleValue(temp);\n            setFormula(`${f[0]} ${f[1]} ${percentage}`);\n          }\n          setState(role);\n        } else if (v === \"π\") {\n          if (isNaN(`${value}3.14159`)) {\n            setError(\"This is not a number\");\n          } else {\n            setFormula((formula += \"3.14159\"));\n            handleValue(evaluate(formula));\n          }\n        } else {\n          if (isNaN(`${value}2.71828`)) {\n            setError(\"This is not a number\");\n          } else {\n            setFormula((formula += \"2.71828\"));\n            handleValue(evaluate(formula));\n          }\n        }\n        break;\n      case \"res\":\n        setFadeOutIn(true);\n        setTimeout(() => {\n          setFormula(value);\n          setValue(\"0\");\n        }, 250);\n        break;\n      case \"abort\":\n        setFormula(\"\");\n        setValue(\"0\");\n        setError(false);\n        break;\n      case \"erase\":\n        setError(false);\n        let temp;\n        if (\n          formula[formula.length - 1] === \" \" ||\n          operations.includes(formula[formula.length - 1])\n        ) {\n          temp = formula.slice(0, -3);\n          setFormula(temp);\n          handleValue(evaluate(temp));\n          setState(\"number\");\n        } else {\n          temp = formula.toString().slice(0, -1);\n          if (!temp) {\n            handleValue(0);\n            setFormula(\"\");\n          } else {\n            setFormula(temp);\n          }\n          try {\n            handleValue(evaluate(temp));\n          } catch (e) {}\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className=\"calc__body\">\n      <div className=\"panel\">\n        <div className={classNames({ formula: true, fadeOutUp: fadeOutIn })}>\n          {formula}\n        </div>\n        <div className={classNames(\"result\", { fadeOutUp: fadeOutIn })}>\n          {value}\n        </div>\n        {error && <p className=\"error\">{error}</p>}\n      </div>\n      <div className=\"buttons\">\n        {buttons.map((btn) => (\n          <Button\n            key={btn.value}\n            btn={btn}\n            onClick={(v, role) => handleChange(v, role)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst operations = [\"-\", \"+\", \"/\", \"*\"];\nconst buttons = [\n  { value: \"%\", role: \"special\" },\n  { value: \"π\", role: \"special\" },\n  { value: \"e\", role: \"special\" },\n  { value: \"/\", role: \"operation\" },\n  { value: \"7\", role: \"number\" },\n  { value: \"8\", role: \"number\" },\n  { value: \"9\", role: \"number\" },\n  { value: \"x\", role: \"operation\" },\n  { value: \"4\", role: \"number\" },\n  { value: \"5\", role: \"number\" },\n  { value: \"6\", role: \"number\" },\n  { value: \"-\", role: \"operation\" },\n  { value: \"1\", role: \"number\" },\n  { value: \"2\", role: \"number\" },\n  { value: \"3\", role: \"number\" },\n  { value: \"+\", role: \"operation\" },\n  { value: \"0\", role: \"number\", long: true },\n  { value: \".\", role: \"punctuation\" },\n  { value: \"⌫\", role: \"erase\" },\n  { value: \"C\", role: \"abort\", long: true },\n  { value: \"=\", role: \"res\" },\n];\n/*let draft = (\n  <div className=\"button\">\n    <p>{value}</p>\n  </div>\n);*/\n\nconst Button = (prop) => {\n  let { btn, onClick } = prop;\n  let value = btn.value === \"x\" ? \"*\" : btn.value;\n  let classList = classNames(btn.role, {\n    button: true,\n    long: btn.long,\n  });\n  return (\n    <button className={classList} onClick={() => onClick(value, btn.role)}>\n      {btn.value}\n    </button>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}